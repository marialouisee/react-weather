(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{28:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(19),r=c.n(n),i=c(14),o=c(4),l=c(12),j=c(9),d=function(e,t){switch(t.type){case"set-data-weather":return Object(j.a)(Object(j.a)({},e),{},{weather:t.payload});case"set-data-forecast":return Object(j.a)(Object(j.a)({},e),{},{forecast:t.payload});case"set-city":return Object(j.a)(Object(j.a)({},e),{},{city:t.payload});case"set-type":return Object(j.a)(Object(j.a)({},e),{},{type:t.payload});default:return e}},h=Object(a.createContext)(),b=c(2),u=function(e){var t=Object(a.useReducer)(d,{city:"q=Hamburg",weather:[],forecast:[],type:"weather"}),c=Object(l.a)(t,2),s=c[0],n=c[1],r="e4efe9b0c2159b5e049dbb5024702093",i="https://api.openweathermap.org/data/2.5/weather?".concat(s.city,"&appid=").concat(r,"&units=metric"),o="https://api.openweathermap.org/data/2.5/forecast?".concat(s.city,"&appid=").concat(r,"&units=metric");return Object(a.useEffect)((function(){fetch(i).then((function(e){return e.ok||alert("please try again"),e.json()})).then((function(e){n({type:"set-data-weather",payload:e})}))}),[i]),Object(a.useEffect)((function(){fetch(o).then((function(e){return e.json()})).then((function(e){n({type:"set-data-forecast",payload:e})}))}),[o]),Object(b.jsx)(h.Provider,{value:{state:s,dispatch:n},children:e.children})},O=(c(28),c(29),c.p+"static/media/bgImage3.afb6443e.svg"),p=c(21),x=c(20),f=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),r=Object(l.a)(n,2),i=r[0],o=r[1],j=Object(a.useContext)(h).dispatch;Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){s(e.coords.latitude),o(e.coords.longitude)}))}),[c,i]);return Object(b.jsx)("div",{onClick:function(){j({type:"set-city",payload:"lat=".concat(c,"&lon=").concat(i)})},children:Object(b.jsx)(x.a,{size:20})})},m=function(){var e=Object(a.useContext)(h),t=e.state,c=e.dispatch,s=Object(a.useState)(""),n=Object(l.a)(s,2),r=n[0],i=n[1];return Object(b.jsxs)("div",{className:"searchBar",children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c({type:"set-city",payload:"q=".concat(r)}),i("")},children:[Object(b.jsx)("input",{onChange:function(e){i(e.target.value)},value:r,placeholder:"your city please..."}),Object(b.jsx)("button",{type:"submit",children:Object(b.jsx)(p.a,{})})]}),Object(b.jsx)(f,{})]}),Object(b.jsx)("div",{className:"header",children:Object(b.jsxs)("h1",{children:[" ",t.city.startsWith("lat=")?"YOUR WEATHER IN YOUR CURRENT LOCATION":"YOUR WEATHER IN ".concat(t.city.slice(2).toUpperCase())," "]})})]})},y=function(){var e=Object(a.useContext)(h).dispatch;return Object(b.jsx)("nav",{className:"nav",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{onClick:function(){e({type:"set-type",payload:"weather"})},to:"/now",activeClassName:"active",children:"now"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{onClick:function(){e({type:"set-type",payload:"forecast"})},to:"/forecast",activeClassName:"active",children:"forecast"})})]})})},w=c(10),v=c.n(w),g=c(11),C=function(){var e=Object(a.useContext)(h).state;console.log(e);var t="weather"===e.type?e.weather.weather?e.weather.weather[0].description:"":e.forecast.list?e.forecast.list[0].weather[0].description:"";return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:t?"".concat(t):Object(b.jsx)(v.a,{type:"TailSpin",color:"black",width:30,height:30})}),Object(b.jsx)("p",{children:function(){switch(console.log(e),"weather"===e.type?e.weather.weather?e.weather.weather[0].main:"":e.forecast.list?e.forecast.list[0].weather[0].main:""){case"Thunderstorm":return Object(b.jsx)(g.c,{size:50,color:"lightskyblue"});case"Clear":return Object(b.jsx)(g.b,{size:50,color:"lightskyblue"});case"Clouds":return Object(b.jsx)(g.a,{size:50,color:"lightskyblue"});case"Rain":return Object(b.jsx)(g.d,{size:50,color:"lightskyblue"});case"Snow":return Object(b.jsx)(g.e,{size:50,color:"lightskyblue"});case"Drizzle":return Object(b.jsx)(g.d,{size:50,color:"lightskyblue"});case"Mist":return Object(b.jsx)(g.f,{size:50,color:"lightskyblue"});default:return""}}()})]})},k=function(){var e=Object(a.useContext)(h).state;console.log(e);var t=!!e.weather.main&&e.weather.main.temp.toFixed(),c=!!e.weather.main&&e.weather.main.feels_like.toFixed(),s=!!e.weather.wind&&e.weather.wind.speed;return Object(b.jsxs)("div",{className:"currentCard",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("h2",{children:[t?"".concat(t," \xb0 Celsius"):Object(b.jsxs)("div",{className:"spinnerTemp",children:[" temperature: ",Object(b.jsx)(v.a,{type:"TailSpin",color:"black",width:15,height:15})]}),"  "]}),Object(b.jsxs)("h5",{children:[t?"feels like ".concat(c," \xb0 Celsius"):" ","  "]})]}),Object(b.jsx)(C,{}),Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:[" wind: ",s?"".concat(s," m/sec"):Object(b.jsx)(v.a,{type:"TailSpin",color:"black",width:15,height:15})]})})]})},N=function(){var e=Object(a.useContext)(h).state,t=!!e.forecast.list&&e.forecast.list[0].main.temp.toFixed(),c=!!e.forecast.list&&e.forecast.list[0].main.temp.toFixed();return console.log(e),Object(b.jsxs)("div",{className:"forecast3h",children:[Object(b.jsx)("p",{className:"title",children:"3 hours from now"}),Object(b.jsxs)("div",{className:"body",children:[Object(b.jsxs)("h2",{children:[t?"".concat(t," \xb0 Celsius"):Object(b.jsxs)("div",{className:"spinnerTemp",children:[" temperature: ",Object(b.jsx)(v.a,{type:"TailSpin",color:"black",width:15,height:15})]}),"  "]}),Object(b.jsxs)("h5",{children:[t?"feels like ".concat(c," \xb0 Celsius"):" ","  "]}),Object(b.jsx)(C,{})]})]})},T=function(){var e=Object(a.useContext)(h).state,t=(!!e.forecast.list&&e.forecast.list[1].main.temp_min.toFixed(),!!e.forecast.list&&e.forecast.list[1].main.temp_max.toFixed(),new Date),c=new Date(t);c.setDate(t.getDate()+1);var s=c.getFullYear(),n=c.getMonth()+1,r=c.getDate(),i=n<10?"".concat(s,"-0").concat(n,"-").concat(r," 00:00:00"):"".concat(s,"-").concat(n,"-").concat(r," 00:00:00"),o=e.forecast.list?e.forecast.list.map((function(e,t){return e.dt_txt})):[],l=e.forecast.list?o.indexOf(i):"",j=[l+2,l+4,l+6],d="".concat(s,"-").concat(n,"-").concat(r);return Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{className:"title",children:["tomorrow ",d]}),Object(b.jsx)("div",{className:" bodyTomorrow",children:j.map((function(t,c){return!!e.forecast.list&&Object(b.jsxs)("div",{className:"forecastItems",children:[Object(b.jsx)("p",{children:e.forecast.list[t].dt_txt.slice(11,16)}),Object(b.jsxs)("p",{children:[e.forecast.list[t].main.temp.toFixed()," \xb0C"]}),Object(b.jsx)("p",{children:e.forecast.list[t].weather[0].description})]},c)}))})]})},z=function(){return Object(b.jsxs)("div",{className:"forecastCard",children:[Object(b.jsx)(N,{}),Object(b.jsx)(T,{})]})};var S=function(){return Object(b.jsx)(i.a,{children:Object(b.jsx)("div",{className:"App",style:{backgroundImage:"url(".concat(O,")")},children:Object(b.jsxs)(u,{children:[Object(b.jsx)(m,{}),Object(b.jsx)(y,{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/now",component:k}),Object(b.jsx)(o.a,{path:"/forecast",component:z})]})]})})})};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.07c7669f.chunk.js.map