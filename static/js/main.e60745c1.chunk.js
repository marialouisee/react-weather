(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{34:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(22),i=c.n(s),r=c(15),o=c(4),d=c(6),l=c(10),u=function(e,t){switch(t.type){case"set-data-weather":return Object(l.a)(Object(l.a)({},e),{},{weather:t.payload});case"set-data-forecast":return Object(l.a)(Object(l.a)({},e),{},{forecast:t.payload});case"set-city":return Object(l.a)(Object(l.a)({},e),{},{city:t.payload});case"set-type":return Object(l.a)(Object(l.a)({},e),{},{type:t.payload});default:return e}},j=Object(a.createContext)(),b=Object(a.createContext)(),h=c(2),O=function(e){var t=Object(a.useContext)(b).addNotification,c=localStorage.getItem("state"),n=JSON.parse(c)||{city:"q=Hamburg",weather:[],forecast:[],type:"weather"},s=Object(a.useReducer)(u,n),i=Object(d.a)(s,2),r=i[0],o=i[1];Object(a.useEffect)((function(){localStorage.setItem("state",JSON.stringify(r))}),[r]);var l="e4efe9b0c2159b5e049dbb5024702093",O="https://api.openweathermap.org/data/2.5/weather?".concat(r.city,"&appid=").concat(l,"&units=metric"),f="https://api.openweathermap.org/data/2.5/forecast?".concat(r.city,"&appid=").concat(l,"&units=metric");return Object(a.useEffect)((function(){fetch(O).then((function(e){return e.ok||t("Please enter correct city name!",3500),e.json()})).then((function(e){o({type:"set-data-weather",payload:e})}))}),[O]),Object(a.useEffect)((function(){fetch(f).then((function(e){return e.json()})).then((function(e){o({type:"set-data-forecast",payload:e})}))}),[f]),Object(h.jsx)(j.Provider,{value:{state:r,dispatch:o},children:e.children})},f=c(27);var p=function(e,t){return"add-notification"===t.type?[].concat(Object(f.a)(e),[t.payload]):"remove-notification"===t.type?e.filter((function(e){return e.id!==t.payload})):e};var m=function(e){var t=Object(a.useReducer)(p,[]),c=Object(d.a)(t,2),n=c[0],s=c[1];return Object(h.jsx)(b.Provider,{value:{notifications:n,addNotification:function(e,t){var c=Date.now();s({type:"add-notification",payload:{msg:e,id:c}}),setTimeout((function(){s({type:"remove-notification",payload:c})}),t)}},children:e.children})},x=(c(34),c(35),c.p+"static/media/bgImage3.afb6443e.svg"),v=c(24),y=c(23),w=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),i=Object(d.a)(s,2),r=i[0],o=i[1],l=Object(a.useContext)(j).dispatch,u=Object(a.useContext)(b).addNotification;Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){n(e.coords.latitude),o(e.coords.longitude)}))}),[c,r]),console.log(c);return Object(h.jsx)("div",{onClick:function(){""===c||""===r?u("There seems to be a problem with locating you. Please allow the browser to acces your location, enter your city or try again in a few seconds.",8e3):l({type:"set-city",payload:"lat=".concat(c,"&lon=").concat(r)})},children:Object(h.jsx)(y.a,{size:20})})};var g=function(){return Object(a.useContext)(b).notifications.map((function(e){return Object(h.jsx)("div",{className:"notification",children:e.msg},e.id)}))},C=function(){var e=Object(a.useContext)(j),t=e.state,c=e.dispatch,n=Object(a.useContext)(b).addNotification,s=Object(a.useState)(""),i=Object(d.a)(s,2),r=i[0],o=i[1];return console.log(t),Object(h.jsxs)("div",{className:"searchBar",children:[Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsxs)("form",{onSubmit:function(e){r.match("^\\s*$")?(e.preventDefault(),n("Please enter full city name!",3500),o("")):(e.preventDefault(),c({type:"set-city",payload:"q=".concat(r)}),o(""))},children:[Object(h.jsx)("input",{onChange:function(e){o(e.target.value)},value:r,placeholder:"city name please..."}),Object(h.jsx)("button",{type:"submit",children:Object(h.jsx)(v.a,{})})]}),Object(h.jsx)(w,{})]}),Object(h.jsx)(g,{}),Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("h1",{children:"404"===t.forecast.cod||"404"===t.weather.cod?"YOUR WEATHER IN ...":t.city.startsWith("lat=")?"YOUR WEATHER IN YOUR CURRENT LOCATION":"YOUR WEATHER IN ".concat(t.city.slice(2).toUpperCase())})})]})},N=function(){var e=Object(a.useContext)(j).dispatch;return Object(h.jsx)("nav",{className:"nav",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(r.b,{onClick:function(){e({type:"set-type",payload:"weather"})},to:"/now",activeClassName:"active",children:"now"})}),Object(h.jsx)("li",{children:Object(h.jsx)(r.b,{onClick:function(){e({type:"set-type",payload:"forecast"})},to:"/forecast",activeClassName:"active",children:"forecast"})})]})})},E=c(12),k=c.n(E),S=c(11),z=function(){var e=Object(a.useContext)(j).state,t="weather"===e.type?e.weather.weather?e.weather.weather[0].description:"":e.forecast.list?e.forecast.list[0].weather[0].description:"";return Object(h.jsxs)("div",{className:"clouds",children:[Object(h.jsx)("div",{children:t?"".concat(t):Object(h.jsx)(k.a,{type:"TailSpin",color:"black",width:30,height:30})}),Object(h.jsx)("p",{children:function(){switch("weather"===e.type?e.weather.weather?e.weather.weather[0].main:"":e.forecast.list?e.forecast.list[0].weather[0].main:""){case"Thunderstorm":return Object(h.jsx)(S.c,{size:50,color:"lightskyblue"});case"Clear":return Object(h.jsx)(S.b,{size:50,color:"lightskyblue"});case"Clouds":return Object(h.jsx)(S.a,{size:50,color:"lightskyblue"});case"Rain":return Object(h.jsx)(S.d,{size:50,color:"lightskyblue"});case"Snow":return Object(h.jsx)(S.e,{size:50,color:"lightskyblue"});case"Drizzle":return Object(h.jsx)(S.d,{size:50,color:"lightskyblue"});case"Mist":return Object(h.jsx)(S.f,{size:50,color:"lightskyblue"});default:return""}}()})]})},T=function(){var e=Object(a.useContext)(j).state,t=!!e.weather.main&&e.weather.main.temp.toFixed(),c=!!e.weather.main&&e.weather.main.feels_like.toFixed(),n=!!e.weather.wind&&e.weather.wind.speed;return Object(h.jsxs)("div",{className:"currentCard",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("h2",{children:[t?"".concat(t," \xb0 Celsius"):Object(h.jsxs)("div",{className:"spinnerTemp",children:[" temperature: ",Object(h.jsx)(k.a,{type:"TailSpin",color:"black",width:15,height:15})]}),"  "]}),Object(h.jsxs)("h5",{children:[t?"feels like ".concat(c," \xb0 Celsius"):" ","  "]})]}),Object(h.jsx)(z,{}),Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:[" wind: ",n?"".concat(n," m/sec"):Object(h.jsx)(k.a,{type:"TailSpin",color:"black",width:15,height:15})]})})]})},R=function(){var e=Object(a.useContext)(j).state,t=!!e.forecast.list&&e.forecast.list[0].main.temp.toFixed(),c=!!e.forecast.list&&e.forecast.list[0].main.temp.toFixed();return console.log(e),Object(h.jsxs)("div",{className:"forecast3h",children:[Object(h.jsx)("p",{className:"title",children:"3 hours from now"}),Object(h.jsxs)("div",{className:"body",children:[Object(h.jsxs)("h2",{children:[t?"".concat(t," \xb0 Celsius"):Object(h.jsxs)("div",{className:"spinnerTemp",children:[" temperature: ",Object(h.jsx)(k.a,{type:"TailSpin",color:"black",width:15,height:15})]}),"  "]}),Object(h.jsxs)("h5",{children:[t?"feels like ".concat(c," \xb0 Celsius"):" ","  "]})]}),Object(h.jsx)(z,{})]})},D=function(){var e=Object(a.useContext)(j).state,t=new Date,c=new Date(t);c.setDate(t.getDate()+1);var n=c.getFullYear(),s=c.getMonth()+1,i=c.getDate(),r=s<10?"".concat(n,"-0").concat(s,"-").concat(i," 00:00:00"):"".concat(n,"-").concat(s,"-").concat(i," 00:00:00"),o=e.forecast.list?e.forecast.list.map((function(e,t){return e.dt_txt})):[],d=e.forecast.list?o.indexOf(r):"",l=[d+2,d+4,d+6],u="".concat(i,"-").concat(s,"-").concat(n);return Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{className:"title",children:["tomorrow ",u]}),Object(h.jsx)("div",{className:" bodyTomorrow",children:l.map((function(t,c){return!!e.forecast.list&&Object(h.jsxs)("div",{className:"forecastItems",children:[Object(h.jsx)("p",{children:e.forecast.list[t].dt_txt.slice(11,16)}),Object(h.jsxs)("p",{children:[e.forecast.list[t].main.temp.toFixed()," \xb0C"]}),Object(h.jsx)("p",{children:e.forecast.list[t].weather[0].description})]},c)}))})]})},L=function(){return Object(h.jsxs)("div",{className:"forecastCard",children:[Object(h.jsx)(R,{}),Object(h.jsx)(D,{})]})},I=function(){var e=Object(a.useState)({x:0,y:0}),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),r=i[0],o=i[1],l=Object(a.useState)(!1),u=Object(d.a)(l,2),j=u[0],b=u[1];Object(a.useEffect)((function(){return O(),function(){return f()}}));var O=function(){document.addEventListener("mousemove",y),document.addEventListener("mouseenter",m),document.addEventListener("mouseleave",p),document.addEventListener("mousedown",x),document.addEventListener("mouseup",v)},f=function(){document.removeEventListener("mousemove",y),document.addEventListener("mouseenter",m),document.addEventListener("mouseleave",p),document.removeEventListener("mousedown",x),document.removeEventListener("mouseup",v)},p=function(){o(!0)},m=function(){o(!1)},x=function(){b(!0)},v=function(){b(!1)},y=function(e){n({x:e.clientX,y:e.clientY})};return Object(h.jsx)("div",{className:"cursor ".concat(r?"cursorHidden":""," ").concat(j?"cursorClicked":""," "),style:{left:"".concat(c.x,"px"),top:"".concat(c.y,"px")}})},F=c(26),P=c(21),U=c.p+"static/media/bensound-tomorrow.c2638284.mp3",Y=c.p+"static/media/bensound-evolution-thunder.4375aef0.mp3",A=c.p+"static/media/bensound-memories-sun.7c478301.mp3",H=c.p+"static/media/bensound-sadday-clouds.ca483a8e.mp3",J=c.p+"static/media/bensound-onceagain-snow.6c0a1589.mp3",M=c.p+"static/media/bensound-betterD-drizzle.8b93d900.mp3",W=c.p+"static/media/bensound-newdawn-mist.bbcd52a0.mp3",_=function(){var e=Object(a.useContext)(j).state,t=Object(a.useState)(!1),c=Object(d.a)(t,2),n=c[0],s=c[1],i=Object(F.a)(function(){switch(e.weather.weather?e.weather.weather[0].main:""){case"Thunderstorm":return Y;case"Clear":return A;case"Clouds":return H;case"Rain":return U;case"Snow":return J;case"Drizzle":return M;case"Mist":return W;default:return""}}()),r=Object(d.a)(i,2),o=r[0],l=r[1].stop;return Object(a.useEffect)((function(){l(),s(!1)}),[e]),Object(h.jsx)("div",{className:"sound",onClick:function(){n?l():o(),s(!n)},children:n?Object(h.jsx)(P.b,{size:40}):Object(h.jsx)(P.a,{size:40})})};var q=function(){return Object(h.jsx)(r.a,{children:Object(h.jsx)("div",{className:"App",style:{backgroundImage:"url(".concat(x,")")},children:Object(h.jsx)(m,{children:Object(h.jsxs)(O,{children:[Object(h.jsx)(I,{}),Object(h.jsx)(_,{}),Object(h.jsx)(C,{}),Object(h.jsx)(N,{}),Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/forecast",component:L}),Object(h.jsx)(o.a,{path:["/","/now"],component:T})]})]})})})})};i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(q,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.e60745c1.chunk.js.map